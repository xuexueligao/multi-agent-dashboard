{
  "version": 3,
  "sources": ["../../../../src/cli/lib/dashboard.ts"],
  "sourcesContent": ["import { Context } from \"../../bundler/context.js\";\nimport { DeploymentType } from \"./api.js\";\nimport { dashboardUrl as localDashboardUrl } from \"./localDeployment/dashboard.js\";\n\nexport const DASHBOARD_HOST = process.env.CONVEX_PROVISION_HOST\n  ? \"http://localhost:6789\"\n  : \"https://dashboard.convex.dev\";\n\nexport async function getDashboardUrl(\n  ctx: Context,\n  {\n    deploymentName,\n    deploymentType,\n  }: {\n    deploymentName: string;\n    deploymentType: DeploymentType;\n  },\n): Promise<string | null> {\n  switch (deploymentType) {\n    case \"anonymous\": {\n      return localDashboardUrl(ctx, deploymentName);\n    }\n    case \"local\":\n    case \"dev\":\n    case \"prod\":\n    case \"preview\":\n    case \"custom\":\n      return deploymentDashboardUrlPage(deploymentName, \"\");\n    default: {\n      deploymentType satisfies never;\n      return await ctx.crash({\n        exitCode: 1,\n        errorType: \"fatal\",\n        printedMessage: `Unknown deployment type: ${deploymentType as any}`,\n      });\n    }\n  }\n}\n\nexport function deploymentDashboardUrlPage(\n  configuredDeployment: string | null,\n  page: string,\n): string {\n  const deploymentFrag = configuredDeployment\n    ? `/d/${configuredDeployment}`\n    : \"\";\n  return `${DASHBOARD_HOST}${deploymentFrag}${page}`;\n}\n\nexport function deploymentDashboardUrl(\n  team: string,\n  project: string,\n  deploymentName: string,\n) {\n  return `${projectDashboardUrl(team, project)}/${deploymentName}`;\n}\n\nexport function projectDashboardUrl(team: string, project: string) {\n  return `${teamDashboardUrl(team)}/${project}`;\n}\n\nexport function teamDashboardUrl(team: string) {\n  return `${DASHBOARD_HOST}/t/${team}`;\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,uBAAkD;AAE3C,MAAM,iBAAiB,QAAQ,IAAI,wBACtC,0BACA;AAEJ,eAAsB,gBACpB,KACA;AAAA,EACE;AAAA,EACA;AACF,GAIwB;AACxB,UAAQ,gBAAgB;AAAA,IACtB,KAAK,aAAa;AAChB,iBAAO,iBAAAA,cAAkB,KAAK,cAAc;AAAA,IAC9C;AAAA,IACA,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AACH,aAAO,2BAA2B,gBAAgB,EAAE;AAAA,IACtD,SAAS;AACP;AACA,aAAO,MAAM,IAAI,MAAM;AAAA,QACrB,UAAU;AAAA,QACV,WAAW;AAAA,QACX,gBAAgB,4BAA4B,cAAqB;AAAA,MACnE,CAAC;AAAA,IACH;AAAA,EACF;AACF;AAEO,SAAS,2BACd,sBACA,MACQ;AACR,QAAM,iBAAiB,uBACnB,MAAM,oBAAoB,KAC1B;AACJ,SAAO,GAAG,cAAc,GAAG,cAAc,GAAG,IAAI;AAClD;AAEO,SAAS,uBACd,MACA,SACA,gBACA;AACA,SAAO,GAAG,oBAAoB,MAAM,OAAO,CAAC,IAAI,cAAc;AAChE;AAEO,SAAS,oBAAoB,MAAc,SAAiB;AACjE,SAAO,GAAG,iBAAiB,IAAI,CAAC,IAAI,OAAO;AAC7C;AAEO,SAAS,iBAAiB,MAAc;AAC7C,SAAO,GAAG,cAAc,MAAM,IAAI;AACpC;",
  "names": ["localDashboardUrl"]
}
